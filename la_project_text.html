<!DOCTYPE HTML>
<!--
	Stellar by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Your Solution To Street Parking in Los Angeles</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<h1>Your Solution To Street Parking in Los Angeles</h1>
					
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Content -->
							<section id="content" class="main">
								<span class="image main"><img src="images/la_parking_project.jpg" alt="" width="600" height="500" /></span>
								<h2>Your Solution To Street Parking in Los Angeles</h2>

								<p>
									Feb 11, 2024
								</p>


								<h3>Story</h3>
								<p>
									Parking in LA is a real problem. If you're around the Korea Town/Silverlake area like me, you've most likely experienced some difficulties with parking. In my case, it's even more challenging as I don't have a designated parking spot in my 
									apartment building so even at night after a long day, I need to look for a street parking spot. It took me just a couple hours in LA to realize that parking was going to cause me a lot of headaches and that I needed to look for a solution.
								</p>


								<h3>Solution</h3>


								<p>
									
									So how can I solve this problem and make my life, and maybe others, easier in LA? I decided to build a <b>tool to help me find available spots in real time and use analytics to optimize the routes I take anywhere so I spend less time looking for parking</b>.
									Turns out that the <a href="https://www.laexpresspark.org/la-city-open-data/" target="_blank">LA City government</a> have a free API that gives access to the Parking Meter locations and occupancy updated with high frequency in the LA City.
									So I leveraged that data to find the current occupancy (VACANT or OCCUPIED) of each of the 2807 parking meters that they provide data for.
									
									<p>
										So how to use the app? Check it out below!
									</p>
								

									<video width="640" height="360" controls>
										<source src="parking_project.mov" type="video/mp4">
										Your browser does not support the video tag.
									</video>
									<br><br>

								<!-- This is a comment
								</p>

								<img src="images/main_view.jpg" alt="Description of the image" width="900" height="450">

								<br><br>

								<p>
									You are going to have two maps right below your input widgets: On your left you'll see all the metered street parking spots that we have data for, and on the right you'll see the available parking spots that are within your specified radius of your destination
									as well as the distance and time to get to your destination.
								</p>

								<img src="images/map_all.jpg" alt="Description of the image" width="900" height="450">

								<br><br>

								<p>
									Now the question is, <b>how do I optimize your route so you spend less time looking for parking?</b> Let's say you want to go to the Crypto.com arena, and the app is showing you 12 available spots in your acceptable proximity. <b>How do you know which one you go to?</b>
								</p>

								<h3>Route Optimization</h3>
								<p>
									I used some of the vast amount of historical parking data that LA City has archived to train a Machine Learning model that predicts the time a spot will remain vacant. In the below snippet, the time_to_occupied_in_mins is the variable of interest 
									(I know I need to work on my variable naming lol)
								</p>

								<img src="images/datasetsample_la_proj.jpg" alt="Description of the image" width="900" height="100">

								<br><br>

								<p>
									So with a good model, the idea is to optimize your route in a way that you're headed to the Street Parking Spot that is more likely to still be vacant by the time you arrive there. <b>This solution will save you a couple of minutes, 
									and more importantly, you won't have to drive around looking for parking!</b> The natural next question is, what happens if I get there and the spot is taken? Easy! Open the app and refresh your search, since we're using live data it will give you the spots 
									that are available at the moment!
								</p>
								<br>

								<h3>Some interesting findings from my EDA</h3>

								<p>
									This is the average time the Street Parking Spots remain vacant grouped by hour. The y-axis is the hours of the day and the x-axis is average time in minutes.
									So, the spots that are vacant from 8:00 AM until 12:00 PM on average remain vacant for a longer time, which probably makes sense because people are working or commuting less during those times...
								</p>

								<img src="images/plot_la_proj.jpg" alt="Description of the image" width="700" height="500">

								<br><br>

								<h3>Work in Progress</h3>

								<p>
									This project is work in progress. I'm still working on the model and the app deployment, but it's getting deployed soon! Stay Tuned!!
									<br>
									In the meantime, please check out the <b><a href="https://github.com/juanpi19/traffic_la_proj/blob/main/app.py" target="_blank">Streamlit's App Source Code</a></b>
								</p>-->

								<h2>Different Aspects and Decisions About the Project</h2>

								<h3>Data Available</h3>
								<p>
									In addition to the live API, LA City also makes available the month to month historical data for all the transactions in the street parking meters. 
									Each CSV file has around 5 million rows of data where each row represents a parking spot becoming ocuppied or available.
								</p>

								<img src="images/data_la_project.jpg" alt="Description of the image" width="700" height="400">


								<p>
									I also collected historical weather data for the year 2023. Each row represented the weather in LA per day, some of the features that the dataset 
									includes are shown below
								</p>

								<img src="images/weather_la_project.jpg" alt="Description of the image" width="800" height="200">
								<br><br>

								<h3>Need of a Model?</h3>
								<p>
									The first question that I had was whether or not I needed a predictive model in the first place. When live data is available with such high frequency it is important to be clear about what problem 
									I am trying to solve and what value it is adding. The question I asked myself was the following: Do I want to know if a street parking spot will be available or taken or do I want to know 
									ho much longer, an available parking spot will remain available. <br><br>

									If I just wanted to know if the street parking spot was going to be available or not, I did not see the need of a predictive model as you could arrive to your destination and refresh the live data API
									to know what street parking spots were available at that precise moment. <br><br>

									If the goal was to reduce the overall time you spend going from your origin to your final destination, including the time searching for parking, then it made sense to have a model that predicted the 
									amount to time available parking spots in proximity to your destination will remain open, that way you can head directly to the free parking spot and then you can walk to your final destination. 
									This was the approach I took! <br><br>

									So you may have questions about what my variable of interest was and how I arrive to it. My variable of interest was the delta in minutes between the time a spot became available and became occupied again.
									For example: If a parking spot becase available at 5:20 PM and someone parked in the spot again at 5:30, then the time the spot remained available was 10 minutes. This was the information I wanted to predict. 


								</p>


								<h3>Modeling Decision</h3>

								<p>
									Now that I knew what I wanted to predict and I had historical data, the goals was to engineer features that would allow the model to find the hidden patterns in the data enhancing 
									the predictive abilities. I fitted an XGBOOST regressor on 25M rows of data, achieving an R2 of 0.52 on testing data and a RMSQ of 4.8, so off by 4.8 minutes on average. Below you will find a chart displaying 
									the importance of each feature the model was trained on.
								</p>

								<img src="images/feature_importance_la_proj.jpg" alt="Description of the image" width="700" height="450">



								<h3>Model Deployment</h3>
								<p>
									The app is a Streamlit app hosted on Github. I needed a way to use my trained model in this application so others could get the predictions on the parking spots. In order to achieve this, 
									I serialized the model, serialization is the process of converting the structure of the model into a sequence of bytes that the computer can understand, using pickle. Pickle is a Python library that 
									allows you to serialize different objects, in this case the structure of the trained ML model. <br><br>

									The whole idea of serializing the model is that we can utilize it with the parameters that have been estimated from the training process. So on the Streamlit app, I could also use pickle to deserialize the model 
									and convert it back to its original structure, and with this original structure we can make predictions!
									
								</p>




								<h3>Testing Model Efficacy</h3>

								<p>
									So all of these look great, but... Does it actually work? Being completely honest, I don't know... and by working I mean, you're actually able to spend less time searching for street parking in DTLA. 
									What I do know is that I'll figure it out. I find it hard to believe that this app will gain enough traffic and feedback from people to be able to understand if people are benefiting from this. However, 
									I have traffic data from the Bing Maps API and I could leverage that to simulate users and understand whether they were able to find a spot or not. I haven't started working on this.

								</p>


								<h3>Next Steps</h3>
								<p>
									- Test whether it works, and improve it. <br>
									- Understand how we can make the user experience more smooth when using the app 
			
								</p>

								
								<h3>Final Notes</h3>
								<p>
									- This app will ask you if it can know your location. This is for the "Current Location" features. This app does not collect data. <br>
									- You will need to remove some pop ups as the app opens a new tab to display Google Maps, and in order to open Google Maps you need to remove this 
			
								</p>




								<h3>Tech Stack</h3>

							
								<h4>APIs:</h4>
						
								<li>Bing Maps API</li>
								<li>OpenWeatherMap API</li>
								<li>LADOT Parking Meter Occupancy API</li>

								<br>
	
								

								<h4>DevOps</h4>
				
								<li>Github</li>
								<li>Git</li>

								<br>

								<h4>App</h4>
								
								<li>Streamlit</li>
								<li><a href="https://github.com/juanpi19/traffic_la_proj/blob/main/app.py" target="_blank">App Source Code</a></li>

								<br>

								

								<h4>ML model</h4>
							
								<li>Scikit-Learn</li>
								<li>Pandas</li>
								<li>NumPy</li>
						


							
							



								
								
						

								

								<br>


						
					
							</section>

					</div>

				<!-- Footer -->

				

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>